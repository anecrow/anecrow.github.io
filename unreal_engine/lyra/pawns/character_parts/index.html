<!DOCTYPE html>
<html>
<head>
    <title>角色配饰</title>
    <link rel="stylesheet" href="https://blog.anecrow.work/css/layout.css">
    <link rel="stylesheet" href="https://blog.anecrow.work/css/github-markdown.css">
    <link rel="stylesheet" href="https://blog.anecrow.work/css/style.css">
</head>

<body class="markdown-body">
    <div class="flex-container">
        <div class="side-container">
            

    


<nav id="side-nav">
    <a href="https://blog.anecrow.work/">
        <h1>Home</h1>
    </a>
    <a href="https://blog.anecrow.work/unreal_engine/lyra/">
        <h3>Lyra框架</h3>
    </a>
    
        
            
                <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/">
                    <span class="nav-item">
                        类参考目录
                    </span>
                </a>
            
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/lyrauserfacingexperiencedefinition/">
                        <code class="nav-item nav-subitem">
                            LyraUserFacingExperienceDefinition
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/lyraexperiencedefinition/">
                        <code class="nav-item nav-subitem">
                            LyraExperienceDefinition
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/lyrapawndata/">
                        <code class="nav-item nav-subitem">
                            LyraPawnData
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/lyracontrollercomponent_characterparts/">
                        <code class="nav-item nav-subitem">
                            LyraControllerComponent_CharacterParts
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/classes/gamefeaturedata/">
                        <code class="nav-item nav-subitem">
                            GameFeatureData
                        </code>
                    </a>
                
            
        
            
                <a href="https://blog.anecrow.work/unreal_engine/lyra/resouce_manage/">
                    <span class="nav-item">
                        资源管理
                    </span>
                </a>
            
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/resouce_manage/new_gamefeatuer/">
                        <code class="nav-item nav-subitem">
                            新建项目层级
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/resouce_manage/asset_scan/">
                        <code class="nav-item nav-subitem">
                            资产扫描
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/resouce_manage/actions/">
                        <code class="nav-item nav-subitem">
                            自动注入
                        </code>
                    </a>
                
            
        
            
                <a href="https://blog.anecrow.work/unreal_engine/lyra/maps/">
                    <span class="nav-item">
                        关卡设计
                    </span>
                </a>
            
            
                
                    <a href="https://blog.anecrow.work/unreal_engine/lyra/maps/new_map/">
                        <code class="nav-item nav-subitem">
                            新建关卡
                        </code>
                    </a>
                
            
        
            
                <a href="https://blog.anecrow.work/unreal_engine/lyra/pawns/">
                    <span class="nav-item">
                        Pawns
                    </span>
                </a>
            
            
                
                    <code class="nav-item nav-subitem nav-current">
                        角色配饰
                    </code>
                
            
        
    
</nav>
        </div>
        <div id="main-container" class="flex-container">
            <div id="content">
                
<header>
    <h1>角色配饰</h1>
    <nav class="breadcrumbnav">
    
    
        
    
        
    
        
    
        
    

    
        <span>
            <a href="https://blog.anecrow.work/">
                <code>Home</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <span>
            <a href="https://blog.anecrow.work/unreal_engine/">
                <code>Unreal Engine</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <span>
            <a href="https://blog.anecrow.work/unreal_engine/lyra/">
                <code>Lyra框架</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <span>
            <a href="https://blog.anecrow.work/unreal_engine/lyra/pawns/">
                <code>Pawns</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <code>角色配饰</code>
    

</nav>


    <blockquote id="page-info">
        <span><code>Date</code>: 2022/07/18 13:40:11</span>
        <span><code>Lastmod</code>: 2022/07/18 17:07:08</span>
        <br>
        
            <span><code>WordCount</code>: 793</span>
            <span><code>ReadingTime</code>: 2min</span>
        
    </blockquote>
</header>
                <article>
                    
    <article>
        <blockquote>
<p><em>Lyra框架</em> 将角色模型抽象为 <code>Charater Part</code> 配饰/组件<br>
但 <em>组件</em> 容易与功能组件 <code>Component</code> 混淆</p>
</blockquote>
<p><em>Lyra框架</em> 称这个为 <code>Cosmetics System</code> 化妆/妆点系统<br>
将模型配饰 帽子/背包 甚至是角色模型本身视作一个 <code>Character Part</code></p>
<blockquote>
<p>Lyra框架目前并没有把 <code>Cosmetics System</code> 固化为一种组件或实际的逻辑系统<br>
仅仅是目前对于 <code>Charater Part</code> 的操作逻辑的一种统称</p>
</blockquote>
<h2 id="角色模型">角色模型</h2>
<p>开发中最常见的需求就是更改角色模型<br>
有可能是切换衣着, 甚至是切换角色</p>
<p>在 <em>Lyra框架</em> 中允许我们仅仅切换角色外观而不需要重制一个新 <em>Pawn</em></p>
<h3 id="新建蓝图">新建蓝图</h3>
<blockquote>
<p>虽然叫 <code>Part Actor</code><br>
但其实只要是 <code>Actor</code> 类都是可用的(包括任何子孙类)</p>
<blockquote>
<p>演示项目 <code>Shooter</code> 中使用的是 <code>LyraTaggedActor</code> 类</p>
</blockquote>
</blockquote>
<p><strong>添加</strong> &gt; <strong>蓝图类</strong><br>
选取父类 <code>Actor</code> &gt; <strong>选择</strong></p>
<p>通常将角色配饰资源<strong>保存</strong>在 <code>/Charaters/Cosmetics</code> 文件夹中</p>
<h3 id="配置角色模型与动画">配置角色模型与动画</h3>
<blockquote>
<p>在添加角色之前需要准备一套已制作好 <code>骨骼</code> <code>骨骼网格体</code> <code>IK绑定</code> 资产的角色<br>
以下图方便用的是原生内容包中的角色资产, 注意导入资产可能会影响 <em>Lyra框架</em> 内容<br>
其他来源的角色资产都可以通过同样的操作配置使用</p>
</blockquote>
<p>以下<strong>仅作演示</strong></p>
<p>这里直接添加第三人称内容包, 使用里边的原生 <code>Mannequins</code> 角色<br>
将 <code>SKM_Manny骨骼网格体</code> 拖入<br>
<img src="Snipaste_2022-07-18_16-24-48.jpg" alt=" "></p>
<blockquote>
<p><code>SKM_Manny骨骼网格体</code> 位置:<br>
<code>Content/Characters/Mannequins/Meshes/SKM_Manny</code></p>
</blockquote>
<p>有了骨骼网格体, 还需要指定动画蓝图</p>
<p>由于我们需要让它使用 <em>Lyra框架</em> 中的动画<br>
需要建立一个包含重定向的动画蓝图</p>
<p><strong>右键</strong> <code>SKM_Manny骨骼网格体</code> &gt; <strong>创建</strong> &gt; <strong>动画蓝图</strong></p>
<p>还有一个重定向器<br>
这里可以直接<strong>复制</strong> <em>Lyra框架</em> 现成的</p>
<blockquote>
<p><code>RTG_Mannequin</code> 位置:<br>
<code>Content/Characters/Heroes/Mannequin/Rig/RTG_Mannequin</code></p>
</blockquote>
<p><strong>打开</strong>复制出来的 <code>RTG_Mannequin</code><br>
<strong>修改</strong> <code>目标IKRig资产</code> 指定为第三人称内容包中的</p>
<blockquote>
<p><code>IK_Mannequin</code> 位置:<br>
<code>Content/Characters/Mannequins/Rigs/IK_Mannequin</code></p>
</blockquote>
<p>准备好这两个资源后<br>
<strong>打开</strong>新建的动画蓝图 &gt; <strong>创建节点</strong> <code>Retarget Pose From Mesh</code><br>
同时<strong>指定</strong>节点中的 <code>IK重定向器 资产</code> 为刚才复制的 <code>RTG_Mannequin</code><br>
记得<strong>编译</strong></p>
<p>回到已经拖入骨骼网格体的 <code>Actor</code> 中<br>
指定参数 <strong>动画</strong> &gt; <code>动画类</code> 为刚配置好的动画蓝图<br>
最后记得<strong>编译</strong></p>
<p>这样一个 <code>Part Actor</code> 就制作完成了</p>
<h3 id="应用模型">应用模型</h3>
<p><em>Lyra框架</em> 为了开发测试的方便, 特意为此留下了一个配置接口</p>
<p>打开 <strong>编辑</strong> -&gt; <strong>编辑器偏好设置</strong><br>
找到 <strong>Lyra</strong> -&gt; <strong>Lyra Cosmetic Developer Settings</strong> &gt; <code>Cheat Cosmetic Character Parts</code></p>
<p><strong>添加</strong>一项, 并将参数 <code>Part Class</code> 指定为配置好的那个 <code>Part Actor</code><br>
<img src="Snipaste_2022-07-18_17-03-27.jpg" alt=" "></p>
<p>随便进一个关卡, 模型将会被这个配置中的 <code>Part Class</code> 所替换</p>
<h2 id="装备配饰">装备配饰</h2>
    </article>

                </article>
                <footer>
    <div class="flex-container">
        <div>
            
    

        </div>
        <div></div>
        <div>
            
    

        </div>
    </div>
    <hr>
    <div>
        <small><small><strong style="margin: -4px 0;">©2022 aneCrow All Rights Reserved.</strong></small></small>
        <br/>
        <span class="footnotes" style="padding-bottom: var(--gap-unit)">Power by: <a href="https://gohugo.io/">HUGO</a> | Support <strong>Light</strong>&<strong>Dark</strong> Style</span>
    </div>
</footer>


            </div>
        </div>
        <div class="side-container">
            <aside>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#角色模型">角色模型</a>
      <ul>
        <li><a href="#新建蓝图">新建蓝图</a></li>
        <li><a href="#配置角色模型与动画">配置角色模型与动画</a></li>
        <li><a href="#应用模型">应用模型</a></li>
      </ul>
    </li>
    <li><a href="#装备配饰">装备配饰</a></li>
  </ul>
</nav>
</aside>
        </div>
        <div></div>
    </div>
</body>

</html>