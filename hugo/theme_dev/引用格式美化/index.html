<!DOCTYPE html>
<html>
<head>
    <title>引用格式美化</title>
    <link rel="stylesheet" href="https://blog.anecrow.work/css/layout.css">
    <link rel="stylesheet" href="https://blog.anecrow.work/css/github-markdown.css">
    <link rel="stylesheet" href="https://blog.anecrow.work/css/style.css">
</head>

<body class="markdown-body">
    <div class="flex-container">
        <div class="side-container">
            

    


<nav id="side-nav">
    <a href="https://blog.anecrow.work/">
        <h1>Home</h1>
    </a>
    <a href="https://blog.anecrow.work/hugo/">
        <h3>Hugo Site</h3>
    </a>
    
        
            
                <a href="https://blog.anecrow.work/hugo/usage/">
                    <span class="nav-item">
                        使用
                    </span>
                </a>
            
            
                
                    <a href="https://blog.anecrow.work/hugo/usage/%E7%AE%80%E6%98%93%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8_windows/">
                        <code class="nav-item nav-subitem">
                            简易安装和使用 (Windows)
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/hugo/usage/%E8%AE%BE%E7%BD%AE_vscode/">
                        <code class="nav-item nav-subitem">
                            设置 VSCode
                        </code>
                    </a>
                
            
        
            
                <a href="https://blog.anecrow.work/hugo/theme_dev/">
                    <span class="nav-item">
                        自定义主题
                    </span>
                </a>
            
            
                
                    <a href="https://blog.anecrow.work/hugo/theme_dev/%E4%BB%8E%E6%96%B0%E5%BB%BA%E7%A9%BA%E7%99%BD%E9%AA%A8%E6%9E%B6%E5%BC%80%E5%A7%8B/">
                        <code class="nav-item nav-subitem">
                            从新建空白骨架开始
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/hugo/theme_dev/%E6%9C%80%E5%B0%8F%E5%8F%AF%E7%94%A8%E7%B3%BB%E7%BB%9F/">
                        <code class="nav-item nav-subitem">
                            最小可用系统
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/hugo/theme_dev/%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%A0%B7%E5%BC%8F/">
                        <code class="nav-item nav-subitem">
                            页面布局和基本样式
                        </code>
                    </a>
                
            
                
                    <a href="https://blog.anecrow.work/hugo/theme_dev/header_footer/">
                        <code class="nav-item nav-subitem">
                            Header Footer
                        </code>
                    </a>
                
            
                
                    <code class="nav-item nav-subitem nav-current">
                        引用格式美化
                    </code>
                
            
                
                    <a href="https://blog.anecrow.work/hugo/theme_dev/%E4%BE%A7%E8%BE%B9%E8%8F%9C%E5%8D%95%E6%A0%8F/">
                        <code class="nav-item nav-subitem">
                            侧边菜单栏
                        </code>
                    </a>
                
            
        
    
</nav>
        </div>
        <div id="main-container" class="flex-container">
            <div id="content">
                
<header>
    <h1>引用格式美化</h1>
    <nav class="breadcrumbnav">
    
    
        
    
        
    
        
    

    
        <span>
            <a href="https://blog.anecrow.work/">
                <code>Home</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <span>
            <a href="https://blog.anecrow.work/hugo/">
                <code>Hugo Site</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <span>
            <a href="https://blog.anecrow.work/hugo/theme_dev/">
                <code>自定义主题</code>
            </a>
        </span>
        <span>></span>
    

    

    
        <code>引用格式美化</code>
    

</nav>


    <blockquote id="page-info">
        <span><code>Date</code>: 2022/02/18 13:29:07</span>
        <span><code>Lastmod</code>: 2022/02/19 12:38:03</span>
        <br>
        
            <span><code>WordCount</code>: 681</span>
            <span><code>ReadingTime</code>: 2min</span>
        
    </blockquote>
</header>
                <article>
                    
    <article>
        <p>使用成熟的第三方格式美化.</p>
<p>虽然 <em>Hugo</em> 导出的 <em>Markdown</em> 文档已有了基本的渲染, 但看起来有点死板<br>
而自己手动从头搓个样式毕竟太过浪费时间<br>
这时候只要找一些成熟的模板就能省下很多力气和时间</p>
<p>比如 <a href="https://github.com/sindresorhus/github-markdown-css">github-markdown-css</a></p>
<p>下载并解压 <code>css</code> 文件至 <code>static/css/</code> 内, 然后我们把它加入 <code>&lt;head&gt;</code></p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go-html-template" data-lang="go-html-template">&lt;<span style="color:#5bc4bf">link</span> <span style="color:#06b6ef">rel</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;stylesheet&#34;</span> <span style="color:#06b6ef">href</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;</span><span style="color:#8d8687">{{</span> <span style="color:#06b6ef">.Site.BaseURL</span> <span style="color:#8d8687">}}</span><span style="color:#48b685">css/github-markdown.css&#34;</span>&gt;
</code></pre></div><p>给目标容器加上对应的类 <code>class=&quot;markdown-body&quot;</code> 之后, 下属的所有元素都会被应用到样式</p>
<blockquote>
<p>这个 <em>css</em> 允许切换设备的 <em>日/夜</em> 模式的同时跟随主题改变</p>
</blockquote>
<h2 id="代码语法高亮">代码语法高亮</h2>
<p>这个样式并不能直接处理 <em>Hugo</em> 输出的代码语法高亮
而默认样式看起来有些格格不入, 这时候可以手动配置风格</p>
<p>首先在这里找个差不多的: <a href="https://xyproto.github.io/splash/docs/longer/all.html">Chroma Style Gallery</a></p>
<p>修改我们的站点配置文件 <code>config.toml</code> 指定代码高亮风格:</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#06b6ef">markup</span>]
  [<span style="color:#06b6ef">markup</span>.<span style="color:#06b6ef">highlight</span>]
    <span style="color:#06b6ef">style</span> = <span style="color:#48b685">&#39;paraiso-light&#39;</span>
</code></pre></div><p>大部分风格基本都只支持 <code>亮/暗</code> 的其中一种模式<br>
<code>paraiso-light</code> 与 <code>paraiso-dark</code> 使用同一种中性颜色来指示语法, 并且在两种模式下表现基本一致, 修改起来比较方便</p>
<h2 id="修补细节">修补细节</h2>
<p><code>github-markdown-css</code> 做成了类选择器的写法, 以便于可以灵活地挂载在任何需要渲染 <em>markdown</em> 内容的容器上<br>
这里图方便直接将它挂在主元素上应用至全局</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go-html-template" data-lang="go-html-template">&lt;<span style="color:#5bc4bf">body</span> <span style="color:#06b6ef">class</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;markdown-body&#34;</span>&gt;
</code></pre></div><p>接着对这个样式表进行一些调整<br>
为了不破坏源样式表, 需要在新样式表中覆盖对应类和变量</p>
<p>新建 <code>style.css</code> 并在 <code>&lt;head&gt;</code> 中引用且需要放在 <code>github-markdown.css</code> 之后</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go-html-template" data-lang="go-html-template">&lt;<span style="color:#5bc4bf">head</span>&gt;
    &lt;<span style="color:#5bc4bf">title</span>&gt;<span style="color:#8d8687">{{</span> <span style="color:#06b6ef">.Title</span> <span style="color:#8d8687">}}</span>&lt;/<span style="color:#5bc4bf">title</span>&gt;
    &lt;<span style="color:#5bc4bf">link</span> <span style="color:#06b6ef">rel</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;stylesheet&#34;</span> <span style="color:#06b6ef">href</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;</span><span style="color:#8d8687">{{</span> <span style="color:#06b6ef">.Site.BaseURL</span> <span style="color:#8d8687">}}</span><span style="color:#48b685">css/layout.css&#34;</span>&gt;
    &lt;<span style="color:#5bc4bf">link</span> <span style="color:#06b6ef">rel</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;stylesheet&#34;</span> <span style="color:#06b6ef">href</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;</span><span style="color:#8d8687">{{</span> <span style="color:#06b6ef">.Site.BaseURL</span> <span style="color:#8d8687">}}</span><span style="color:#48b685">css/github-markdown.css&#34;</span>&gt;
<span style="display:block;width:100%;background-color:#cfd1c5">    &lt;<span style="color:#5bc4bf">link</span> <span style="color:#06b6ef">rel</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;stylesheet&#34;</span> <span style="color:#06b6ef">href</span><span style="color:#5bc4bf">=</span><span style="color:#48b685">&#34;</span><span style="color:#8d8687">{{</span> <span style="color:#06b6ef">.Site.BaseURL</span> <span style="color:#8d8687">}}</span><span style="color:#48b685">css/style.css&#34;</span>&gt;
</span>&lt;/<span style="color:#5bc4bf">head</span>&gt;
</code></pre></div><p>建立样式修补</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#fec418">markdown-body</span> .<span style="color:#fec418">highlight</span> <span style="color:#5bc4bf">pre</span><span style="color:#5bc4bf">,</span>
.<span style="color:#fec418">markdown-body</span> <span style="color:#5bc4bf">pre</span> {
    <span style="color:#815ba4">color</span>: <span style="color:#06b6ef">var</span>(<span style="color:#5bc4bf">--</span><span style="color:#815ba4">color</span><span style="color:#5bc4bf">-</span>fg<span style="color:#5bc4bf">-</span><span style="color:#815ba4">default</span>) <span style="color:#8d8687">!important</span>;
    <span style="color:#815ba4">background-color</span>: <span style="color:#06b6ef">var</span>(<span style="color:#5bc4bf">--</span><span style="color:#815ba4">color</span><span style="color:#5bc4bf">-</span>canvas<span style="color:#5bc4bf">-</span>subtle) <span style="color:#8d8687">!important</span>;
}
.<span style="color:#fec418">markdown-body</span> <span style="color:#5bc4bf">pre</span> <span style="color:#5bc4bf">span</span><span style="color:#5bc4bf">[</span><span style="color:#5bc4bf">style</span><span style="color:#5bc4bf">*=</span><span style="color:#48b685">&#34;background-color:#cfd1c5&#34;</span><span style="color:#5bc4bf">]</span> {
    <span style="color:#815ba4">background-color</span>: <span style="color:#06b6ef">var</span>(<span style="color:#5bc4bf">--</span><span style="color:#815ba4">color</span><span style="color:#5bc4bf">-</span>border<span style="color:#5bc4bf">-</span><span style="color:#815ba4">default</span>) <span style="color:#8d8687">!important</span>;
}
.<span style="color:#fec418">markdown-body</span> <span style="color:#5bc4bf">table</span> <span style="color:#5bc4bf">tr</span> {
    <span style="color:#815ba4">border-top</span>: <span style="color:#f99b15">0</span>;
}
</code></pre></div><p>三项分别是:</p>
<ul>
<li>统一围栏代码块的底色和字体颜色</li>
<li>统一高亮代码行的底色</li>
<li>去除多余的边框</li>
</ul>
<blockquote>
<p>可以切换 <code>亮/暗模式</code> 看看效果</p>
</blockquote>
<h2 id="自定义修改">自定义修改</h2>
<p>通过覆盖对应的 <code>CSS变量</code> 可以细调部分效果</p>
<div class="highlight"><pre tabindex="0" style="color:#2f1e2e;background-color:#e7e9db;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">@<span style="color:#815ba4">media</span> <span style="color:#5bc4bf">(</span><span style="color:#5bc4bf">prefers-color-scheme</span><span style="color:#5bc4bf">:</span> <span style="color:#5bc4bf">dark</span><span style="color:#5bc4bf">)</span> {
    .<span style="color:#fec418">markdown-body</span> {
        <span style="color:#ef6155">--color-fg-default</span>: hsla(<span style="color:#f99b15">210</span>, <span style="color:#f99b15">17</span><span style="color:#fec418">%</span>, <span style="color:#f99b15">82</span><span style="color:#fec418">%</span>, <span style="color:#f99b15">0.85</span>);
        <span style="color:#ef6155">--color-canvas-default</span>: <span style="color:#f99b15">#24282d</span>;
        <span style="color:#ef6155">--color-border-default</span>: <span style="color:#f99b15">#383f47</span>;
        <span style="color:#ef6155">--color-border-muted</span>: <span style="color:#f99b15">#383f47</span>;
    }
}

@<span style="color:#815ba4">media</span> <span style="color:#5bc4bf">(</span><span style="color:#5bc4bf">prefers-color-scheme</span><span style="color:#5bc4bf">:</span> <span style="color:#5bc4bf">light</span><span style="color:#5bc4bf">)</span> {
    .<span style="color:#fec418">markdown-body</span> {
        <span style="color:#ef6155">--color-fg-default</span>: hsla(<span style="color:#f99b15">213</span>, <span style="color:#f99b15">13</span><span style="color:#fec418">%</span>, <span style="color:#f99b15">16</span><span style="color:#fec418">%</span>, <span style="color:#f99b15">0.85</span>);
    }
}
</code></pre></div><ul>
<li>修改 <code>--color-fg-default</code> 在原有色基础上降低至 <code>85%</code> 的透明度, 降低主体子颜色的对比度</li>
<li>修改 <code>dark模式</code> 的 <code>--color-canvas-default</code>, 抬高背景色亮度, 原有配色过深</li>
<li>修改 <code>dark模式</code> 的两个 <code>--color-border</code> 提高亮度, 补偿丢失的辨识度</li>
</ul>
    </article>

                </article>
                <footer>
    <div class="flex-container">
        <div>
            
    
        <a href="https://blog.anecrow.work/hugo/theme_dev/header_footer/">
            <div>
                <h2>&lt;&lt; Prev</h2>
                <span>Header Footer</span>
            </div>
        </a>
        <p><p>页眉和页脚可以提供额外信息.</p></p>
    

        </div>
        <div></div>
        <div>
            
    
        <a href="https://blog.anecrow.work/hugo/theme_dev/%E4%BE%A7%E8%BE%B9%E8%8F%9C%E5%8D%95%E6%A0%8F/">
            <div>
                <h2>Next &gt;&gt;</h2>
                <span>侧边菜单栏</span>
            </div>
        </a>
        <p><p>优化体验和反馈.</p></p>
    

        </div>
    </div>
    <hr>
    <div>
        <span>Power by: <a href="https://gohugo.io/">HUGO</a></span>
        <br>
        <span>©2022 aneCrow All Rights Reserved.</span>
    </div>
</footer>


            </div>
        </div>
        <div class="side-container">
            <aside>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#代码语法高亮">代码语法高亮</a></li>
    <li><a href="#修补细节">修补细节</a></li>
    <li><a href="#自定义修改">自定义修改</a></li>
  </ul>
</nav>
</aside>
        </div>
        <div></div>
    </div>
</body>

</html>